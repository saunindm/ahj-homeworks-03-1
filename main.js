!function(){"use strict";class t{constructor(){this.position=-1}randomPosition(){const t=document.querySelectorAll(".cell"),e=t[Math.floor(Math.random()*t.length)],s=document.querySelector(".cell_active");s&&s.classList.remove("cell_active"),e.classList.add("cell_active"),this.position=e}hideGoblin(){const t=document.querySelectorAll(".cell");for(const e of t)e.classList.contains("cell_active")&&(e.classList.remove("cell_active"),this.position=-1)}}class e{cells=[];size=16;parentElement=null;parent=null;constructor(t){this.parent=t}createBoard(){let t="";for(let e=0;e<this.size;e+=1)t+='<div class="cell"></div>';this.parent.innerHTML=t,this.cells=this.parent.children}}(new class{constructor(){this.countHit="0",this.countMiss="0",this.count=0}onCellClick(){const t=document.querySelectorAll(".cell");this.countHit=document.querySelector(".hit"),this.countMiss=document.querySelector(".miss");for(let e=0;e<t.length;e+=1)t[e].addEventListener("click",(()=>{t[e].classList.contains("cell_active")?(t[e].classList.remove("cell_active"),this.countHit.textContent=+this.countHit.textContent+1):this.countMiss.textContent=+this.countMiss.textContent+1,this.result(),this.count=0}))}result(){const e=document.querySelector(".board_container");this.countHit=document.querySelector(".hit"),this.countMiss=document.querySelector(".miss");const s=new t;if(5==+this.countHit.textContent){const t='<div class="result"> <p> Победа!</p></div>';e.insertAdjacentHTML("beforeend",t),s.hideGoblin(),this.stop()}else if(5==+this.countMiss.textContent){const t='<div class="result"> <p> Поражение!</p></div>';e.insertAdjacentHTML("beforeend",t),s.hideGoblin(),this.stop()}}start(){new e(document.querySelector(".board_container")).createBoard();const s=new t;this.countMiss=document.querySelector(".miss"),this.onCellClick(),this.game=setInterval((()=>{s.randomPosition(),this.countMiss.textContent=+this.countMiss.textContent+this.count,1!==this.count&&setTimeout(this.count=1,1e3),this.result()}),1e3)}stop(){document.querySelector(".result").classList.contains("result")&&clearInterval(this.game)}}).start()}();